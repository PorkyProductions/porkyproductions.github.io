{"version":3,"file":"loopRandom.2996b342.js","sources":["../../node_modules/svelte-typewriter/helpers/getRandomElement.js","../../node_modules/svelte-typewriter/modes/loopRandom.js"],"sourcesContent":["import { rng } from './rng'\n\n/** @type {any[]} */\nlet alreadyChoosenTexts = []\n\n/** @type {import(types').GetRandomText} */\nconst getRandomElement = elements => {\n\twhile (true) {\n\t\tconst randomIndex = rng(0, elements.length)\n\t\t// After each iteration, avoid repeating the last text from the last iteration\n\t\tconst isTextDifferentFromPrevious =\n\t\t\ttypeof alreadyChoosenTexts === 'number' && randomIndex !== alreadyChoosenTexts\n\t\tconst isTextFirstTime =\n\t\t\tArray.isArray(alreadyChoosenTexts) && !alreadyChoosenTexts.includes(randomIndex)\n\t\tconst hasSingleChildElement = elements.length === 1\n\t\tconst shouldAnimate =\n\t\t\thasSingleChildElement || isTextFirstTime || isTextDifferentFromPrevious\n\t\tif (shouldAnimate) {\n\t\t\tisTextDifferentFromPrevious && (alreadyChoosenTexts = [])\n\t\t\talreadyChoosenTexts.push(randomIndex)\n\t\t\tconst randomText = elements[randomIndex]\n\t\t\treturn randomText\n\t\t}\n\t\tconst restartRandomizationCycle = alreadyChoosenTexts.length === elements.length\n\t\trestartRandomizationCycle && (alreadyChoosenTexts = alreadyChoosenTexts.pop())\n\t}\n}\n\nexport { getRandomElement }\n","import { writeAndUnwriteText } from '../helpers/writeAndUnwriteText'\nimport { getRandomElement } from '../helpers/getRandomElement'\nimport { animationSetup } from '../helpers/animationSetup'\nimport { makeNestedStaticElementsVisible } from '../helpers/makeNestedStaticElementsVisible'\n\nconst loopRandom = async (node, props) => {\n\tconst { options, elements } = animationSetup(node, props)\n\n\twhile (true) {\n\t\tmakeNestedStaticElementsVisible(node)\n\t\tconst element = getRandomElement(elements)\n\t\tawait writeAndUnwriteText(element, options)\n\t}\n}\n\nexport default loopRandom\n"],"names":["alreadyChoosenTexts","getRandomElement","elements","randomIndex","rng","isTextDifferentFromPrevious","isTextFirstTime","loopRandom","node","props","options","animationSetup","makeNestedStaticElementsVisible","element","writeAndUnwriteText"],"mappings":"yNAGA,IAAIA,EAAsB,CAAE,EAG5B,MAAMC,EAAmBC,GAAY,CACpC,OAAa,CACZ,MAAMC,EAAcC,EAAI,EAAGF,EAAS,MAAM,EAEpCG,EACL,OAAOL,GAAwB,UAAYG,IAAgBH,EACtDM,EACL,MAAM,QAAQN,CAAmB,GAAK,CAACA,EAAoB,SAASG,CAAW,EAIhF,GAH8BD,EAAS,SAAW,GAExBI,GAAmBD,EAE5C,OAAAA,IAAgCL,EAAsB,IACtDA,EAAoB,KAAKG,CAAW,EACjBD,EAASC,GAGKH,EAAoB,SAAWE,EAAS,SAC5CF,EAAsBA,EAAoB,MACxE,CACF,ECrBMO,EAAa,MAAOC,EAAMC,IAAU,CACzC,KAAM,CAAE,QAAAC,EAAS,SAAAR,CAAQ,EAAKS,EAAeH,EAAMC,CAAK,EAExD,OAAa,CACZG,EAAgCJ,CAAI,EACpC,MAAMK,EAAUZ,EAAiBC,CAAQ,EACzC,MAAMY,EAAoBD,EAASH,CAAO,CAC1C,CACF"}