{"version":3,"file":"animationSetup.95a7eef1.js","sources":["../../node_modules/svelte-typewriter/helpers/sleep.js","../../node_modules/svelte-typewriter/helpers/rng.js","../../node_modules/svelte-typewriter/helpers/runOnEveryParentUntil.js","../../node_modules/svelte-typewriter/helpers/hasSingleTextNode.js","../../node_modules/svelte-typewriter/helpers/createElement.js","../../node_modules/svelte-typewriter/helpers/getElements.js","../../node_modules/svelte-typewriter/helpers/makeNestedStaticElementsVisible.js","../../node_modules/svelte-typewriter/helpers/animationSetup.js"],"sourcesContent":["/** @type {import(types').Sleep} */\nconst sleep = ms => new Promise(resolve => setTimeout(resolve, ms))\n\nexport { sleep }\n","/** @type {import(types').RandomNumberGenerator} */\nconst rng = (min, max) => Math.floor(Math.random() * (max - min) + min)\n\nexport { rng }\n","export const runOnEveryParentUntil = async (element, parent, callback) => {\n\tif (!parent) {\n\t\tconsole.error('The specified parent element does not exists!')\n\t\treturn\n\t}\n\n\tlet currentElement = element\n\tdo {\n\t\tif (currentElement === parent) return\n\n\t\tcallback(currentElement)\n\n\t\tcurrentElement = currentElement.parentElement || currentElement.parentNode\n\t} while (currentElement !== null && currentElement.nodeType === 1)\n}\n","/** @type {import(types').HasSingleTextNode} */\nconst hasSingleTextNode = el => el.childNodes.length === 1 && el.childNodes[0].nodeType === 3\n\nexport { hasSingleTextNode }\n","/** @type {import(types').CreateElement} */\nconst createElement = (text, elementTag) => {\n\tconst element = document.createElement(elementTag)\n\telement.textContent = text\n\treturn element\n}\n\nexport { createElement }\n","import { hasSingleTextNode } from './hasSingleTextNode'\nimport { createElement } from './createElement'\n\nconst filterOutStaticElements = child => child.dataset.static === undefined\n\n/** @type {import(types').GetElements} */\nconst getElements = (node, { parentElement }) => {\n\tif (hasSingleTextNode(parentElement)) {\n\t\tconst text = parentElement.textContent\n\t\tconst childNode = createElement(parentElement.textContent, 'p')\n\t\tparentElement.textContent = ''\n\t\tparentElement.appendChild(childNode)\n\t\treturn [{ currentNode: childNode, text }]\n\t}\n\n\tif (hasSingleTextNode(node)) {\n\t\tconst textWithFilteredAmpersand = node.innerHTML.replaceAll('&amp;', '&')\n\t\treturn [{ currentNode: node, text: textWithFilteredAmpersand }]\n\t} else {\n\t\tconst children = [...node.children].filter(filterOutStaticElements)\n\t\tconst allChildren = children.flatMap(child => getElements(child, { parentElement }))\n\t\treturn allChildren\n\t}\n}\n\nexport { getElements }\n","import { runOnEveryParentUntil } from '../helpers/runOnEveryParentUntil'\n\nexport const makeNestedStaticElementsVisible = parentElement => {\n\tconst staticElements = [...parentElement.querySelectorAll('[data-static]')]\n\tfor (const staticElement of staticElements) {\n\t\trunOnEveryParentUntil(staticElement, parentElement, currentStaticElement => {\n\t\t\tconst isParentElement = currentStaticElement !== staticElement\n\t\t\tisParentElement && currentStaticElement.classList.add('finished-typing')\n\t\t})\n\t}\n}\n","import { createEventDispatcher } from 'svelte'\n\nimport { getElements } from './getElements'\nimport { makeNestedStaticElementsVisible } from './makeNestedStaticElementsVisible'\n\nexport const animationSetup = (node, props) => {\n\tconst dispatch = createEventDispatcher()\n\tconst options = { parentElement: node, dispatch, ...props }\n\tconst elements = getElements(node, options)\n\n\tmakeNestedStaticElementsVisible(node)\n\n\treturn { options, elements }\n}\n"],"names":["sleep","ms","resolve","rng","min","max","runOnEveryParentUntil","element","parent","callback","currentElement","hasSingleTextNode","el","createElement","text","elementTag","filterOutStaticElements","child","getElements","node","parentElement","childNode","textWithFilteredAmpersand","makeNestedStaticElementsVisible","staticElements","staticElement","currentStaticElement","animationSetup","props","dispatch","createEventDispatcher","options","__spreadValues","elements"],"mappings":"wYACK,MAACA,EAAQC,GAAM,IAAI,QAAQC,GAAW,WAAWA,EAASD,CAAE,CAAC,ECA5DE,EAAM,CAACC,EAAKC,IAAQ,KAAK,MAAM,KAAK,OAAQ,GAAIA,EAAMD,GAAOA,CAAG,ECDzDE,EAAwB,MAAOC,EAASC,EAAQC,IAAa,CACzE,GAAI,CAACD,EAAQ,CACZ,QAAQ,MAAM,+CAA+C,EAC7D,MACA,CAED,IAAIE,EAAiBH,EACrB,EAAG,CACF,GAAIG,IAAmBF,EAAQ,OAE/BC,EAASC,CAAc,EAEvBA,EAAiBA,EAAe,eAAiBA,EAAe,UAChE,OAAQA,IAAmB,MAAQA,EAAe,WAAa,EACjE,ECbMC,EAAoBC,GAAMA,EAAG,WAAW,SAAW,GAAKA,EAAG,WAAW,GAAG,WAAa,ECAtFC,EAAgB,CAACC,EAAMC,IAAe,CAC3C,MAAMR,EAAU,SAAS,cAAcQ,CAAU,EACjD,OAAAR,EAAQ,YAAcO,EACfP,CACR,ECFMS,EAA0BC,GAASA,EAAM,QAAQ,SAAW,OAG5DC,EAAc,CAACC,EAAM,CAAE,cAAAC,KAAoB,CAChD,GAAIT,EAAkBS,CAAa,EAAG,CACrC,MAAMN,EAAOM,EAAc,YACrBC,EAAYR,EAAcO,EAAc,YAAa,GAAG,EAC9D,OAAAA,EAAc,YAAc,GAC5BA,EAAc,YAAYC,CAAS,EAC5B,CAAC,CAAE,YAAaA,EAAW,KAAAP,CAAI,CAAE,CACxC,CAED,GAAIH,EAAkBQ,CAAI,EAAG,CAC5B,MAAMG,EAA4BH,EAAK,UAAU,WAAW,QAAS,GAAG,EACxE,MAAO,CAAC,CAAE,YAAaA,EAAM,KAAMG,CAAyB,CAAE,CAChE,KAGE,OAFiB,CAAC,GAAGH,EAAK,QAAQ,EAAE,OAAOH,CAAuB,EACrC,QAAQC,GAASC,EAAYD,EAAO,CAAE,cAAAG,CAAa,CAAE,CAAC,CAGrF,ECrBaG,EAAkCH,GAAiB,CAC/D,MAAMI,EAAiB,CAAC,GAAGJ,EAAc,iBAAiB,eAAe,CAAC,EAC1E,UAAWK,KAAiBD,EAC3BlB,EAAsBmB,EAAeL,EAAeM,GAAwB,CACnDA,IAAyBD,GAC9BC,EAAqB,UAAU,IAAI,iBAAiB,CAC1E,CAAG,CAEH,ECLaC,EAAiB,CAACR,EAAMS,IAAU,CAC9C,MAAMC,EAAWC,EAAuB,EAClCC,EAAUC,EAAA,CAAE,cAAeb,EAAM,SAAAU,GAAaD,GAC9CK,EAAWf,EAAYC,EAAMY,CAAO,EAE1C,OAAAR,EAAgCJ,CAAI,EAE7B,CAAE,QAAAY,EAAS,SAAAE,CAAU,CAC7B"}